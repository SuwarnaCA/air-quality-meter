<!DOCTYPE html>
<!-- saved from url=(0073)http://forum.arduino.cc/index.php?topic=106043.msg1009294.html#msg1009294 -->
<html class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers applicationcache svg inlinesvg smil svgclippaths"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="UTF-8">
	<link rel="stylesheet" type="text/css" href="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/index.css">
	<link rel="stylesheet" type="text/css" href="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/responsive.css">
	<link rel="stylesheet" type="text/css" href="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/jquery.sceditor.css">
	<style>
img.avatar { max-width: 65px; max-height: 65px; }</style>
	<script type="text/javascript" async="" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/ga.js"></script><script><!-- // --><![CDATA[
		var smf_theme_url = "http://forum.arduino.cc/Themes/default";
		var smf_default_theme_url = "http://forum.arduino.cc/Themes/default";
		var smf_images_url = "http://forum.arduino.cc/Themes/default/images";
		var smf_smileys_url = "http://forum.arduino.cc/Smileys";
		var smf_scripturl = "http://forum.arduino.cc/index.php";
		var smf_iso_case_folding = false;
		var smf_charset = "UTF-8";
		var smf_session_id = "dfce2dd498f7bf68619f16d5b94e7910";
		var smf_session_var = "f8a3acf73";
		var smf_member_id;
		var ajax_notification_text = 'Loading...';
		var help_popup_heading_text = 'A little lost? Let me explain:';
	// ]]></script>
	<script src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/jquery.min.js"></script>
	<script src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/smf_jquery_plugins.js"></script>
	<script src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/script.js"></script>
	<script src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/theme.js"></script>
	<script src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/editor.js"></script>
	<script src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/jquery.sceditor.js"></script>
	<script src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/jquery.sceditor.bbcode.js"></script>
	<script src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/jquery.sceditor.smf.js"></script>
	<script src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/topic.js"></script>
	<script><!-- // --><![CDATA[
		var smf_smileys_url = 'http://forum.arduino.cc/Smileys/arduino';
		var bbc_quote_from = 'Quote from';
		var bbc_quote = 'Quote';
		var bbc_search_on = 'on';
	// ]]></script>
	<meta name="description" content="NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19">
	<title>NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="theme-color" content="#557EA0">
	<meta name="robots" content="noindex">
	<link rel="canonical" href="http://forum.arduino.cc/index.php?topic=106043.270">
	<link rel="help" href="http://forum.arduino.cc/index.php?action=help">
	<link rel="contents" href="http://forum.arduino.cc/index.php">
	<link rel="search" href="http://forum.arduino.cc/index.php?action=search">
	<link rel="alternate" type="application/rss+xml" title="Arduino Forum - RSS" href="http://forum.arduino.cc/index.php?type=rss2;action=.xml">
	<link rel="alternate" type="application/rss+xml" title="Arduino Forum - Atom" href="http://forum.arduino.cc/index.php?type=atom;action=.xml">
	<link rel="next" href="http://forum.arduino.cc/index.php?topic=106043.285">
	<link rel="prev" href="http://forum.arduino.cc/index.php?topic=106043.255">
	<link rel="index" href="http://forum.arduino.cc/index.php?board=10.0">
</head>
<body id="chrome" class="action_messageindex board_10" style="padding-top: 40px;"><link rel="stylesheet" href="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/foundation2.css" type="text/css"><link rel="stylesheet" href="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/common-hacked.css" type="text/css"><link rel="stylesheet" href="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/new_style.css" type="text/css"><link rel="stylesheet" href="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/fonts.css" type="text/css"><link rel="stylesheet" href="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/arduino-icons.css" type="text/css">
<script>
  var userAgent = (navigator.userAgent || navigator.vendor || window.opera).toLowerCase();
  if(userAgent.indexOf('mac')>0){
    $("head").append('<style type="text/css">@-moz-document url-prefix() {h1 a, h2 a, h3 a, h4 a, h5 a, h1 a:hover, h2 a:hover, th a, th a:hover, h3 a:hover, h4 a:hover, h5 a:hover, #wikitext h2 a:hover, #wikitext h3 a:hover, #wikitext h4 a:hover {padding-bottom: 0.5em!important;} #pageheader .search input{font-family: "TyponineSans Regular 18";} #pagefooter .monospace{margin-top: -4px;} #navWrapper ul.left &gt; li{margin-top: -2px; padding-bottom: 2px;}#navWrapper ul.right &gt; li{margin-top: -5px; padding-bottom: 5px;}#navWrapper ul.right &gt; li ul{margin-top: 4px;} .slider-container .fixed-caption p{padding:8px 0 14px 0}}</style>');
  }
</script>

<!--[if IE]>
<link rel='stylesheet' href='https://id.arduino.cc//css/ie-monospace.css' type='text/css' />
<![endif]-->

<div id="menuWings" class="fixed" style="display: block;"></div>
<div id="page">




<!--[if IE 8]>
<div class="alert-box panel ie8alert">
  <p><strong>Arduino.cc offers limited compatibility for Internet Explorer 8. Get a modern browser as Chrome, Firefox or Safari.</strong></p>
  <a href="" class="close">&times;</a>
</div>
<![endif]-->

<div id="pageheader">
  <div class="row">
    <div class="small-6 large-8 eight columns">
      <div class="title"><a href="http://arduino.cc/">Arduino</a></div>
    </div>
    <div class="small-6 large-4 four columns search">
      <div class="row collapse">
          <form method="GET" action="http://www.google.com/search">
    <div class="small-12 twelve columns">
      <i class="icon-search-2"></i>
      <input type="hidden" name="ie" value="UTF-8">
      <input type="hidden" name="oe" value="UTF-8">
      <input type="text" name="q" size="25" maxlength="255" value="" placeholder="Search the Arduino Forum">
      <input type="submit" name="btnG" value="search">
      <input type="hidden" name="domains" value="http://forum.arduino.cc">
      <input type="hidden" name="sitesearch" value="http://forum.arduino.cc">
    </div>
  </form>      </div>
    </div>
  </div>

  <!--[if gte IE 9]><!-->
  <div class="navWrapper">
  <div class="small-12">
  <div id="navWrapper" class="sticky fixed">
  <!--[endif]-->
  <!--[if IE 8]>
    <div id="navWrapper">
  <![endif]-->
    <nav class="top-bar" data-options="is_hover:true">
      <ul class="title-area">
        <li class="name"></li>
      </ul>

      
    <section class="top-bar-section">
        <ul class="left">
          <li id="navLogo" style="display: block;">
            <a href="http://arduino.cc/">
              <img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/logo_46.png" alt="userpicture">
            </a>
          </li>
          <li id="navHome" style="display: none;"><a href="http://arduino.cc/">Home</a></li>
          <li><a href="http://store.arduino.cc/">Buy</a></li>
          <li><a href="http://arduino.cc/en/Main/Software">Download</a></li>
          <li class="has-dropdown not-click"><a href="http://arduino.cc/en/Main/Products">Products</a>
            <ul class="dropdown"><li class="title back js-generated"><h5><a href="http://forum.arduino.cc/index.php?topic=106043.msg1009294.html#"><span class="backArrow">Back</span></a></h5></li><li><a class="parent-link js-generated" href="http://arduino.cc/en/Main/Products">Products</a></li>
              <li><a href="http://arduino.cc/en/Main/Products">Arduino</a></li>
              <li><a href="http://arduino.cc/en/ArduinoAtHeart/Products">AtHeart</a></li>
              <li><a href="http://arduino.cc/en/ArduinoCertified/Products">Certified</a></li>
            </ul>
          </li>
          <li class="has-dropdown not-click"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1009294.html#">Learning</a>
            <ul class="dropdown"><li class="title back js-generated"><h5><a href="http://forum.arduino.cc/index.php?topic=106043.msg1009294.html#"><span class="backArrow">Back</span></a></h5></li>
              <li><a href="http://arduino.cc/en/Guide/HomePage">Getting started</a></li>
              <li><a href="http://arduino.cc/en/Tutorial/HomePage">Examples</a></li>
              <li><a href="http://arduino.cc/en/Reference/HomePage">Reference</a></li>
              <li><a href="http://playground.arduino.cc/">Playground</a></li>
            </ul>
          </li>
          <li class="active"><a href="http://forum.arduino.cc/">Forum</a></li>
          <li class="has-dropdown not-click"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1009294.html#">Support</a>
            <ul class="dropdown"><li class="title back js-generated"><h5><a href="http://forum.arduino.cc/index.php?topic=106043.msg1009294.html#"><span class="backArrow">Back</span></a></h5></li>
              <li><a href="http://arduino.cc/en/Main/FAQ">FAQ</a></li>
              <li><a href="http://arduino.cc/en/ContactUs">Contact Us</a></li>
            </ul>
          </li>
          <li><a href="http://blog.arduino.cc/">Blog</a></li>
        </ul>

                <ul class="right">
          <li><a href="https://id.arduino.cc/auth/login/?returnurl=http%3A%2F%2Fforum.arduino.cc%2Findex.php%3Ftopic%3D106043.msg1009294.html" class="cart">LOG IN</a></li>
          <li><a href="https://id.arduino.cc/auth/signup" class="cart">SIGN UP</a></li>
        </ul>
              </section></nav>
  </div>
</div>
</div>
</div>


</div>

				<div class="navigate_section" id="headerbread">
          <div class="row" style="max-width: 960px!important;">
          <div class="small-12">
					<ul>
          
						<li>
					<a href="http://forum.arduino.cc/index.php"><span>Arduino Forum</span></a>
						</li>
						<li>
							<span class="dividers"> &gt; </span>
					<a href="http://forum.arduino.cc/index.php#c2"><span>Using Arduino</span></a>
						</li>
						<li>
							<span class="dividers"> &gt; </span>
					<a href="http://forum.arduino.cc/index.php?board=10.0"><span>Sensors</span></a>
						</li>
						<li class="last">
							<span class="dividers"> &gt; </span>
					<a href="http://forum.arduino.cc/index.php?topic=106043.0"><span>NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA</span></a>
						</li>
					</ul>
        </div>
				</div>
				</div>
  <div class="row collapse">
  <div class="small-12 columns">
	<div id="wrapper">
    <div id="upper_section">
			<div id="inner_section">
				<div id="main_menu">
					<ul class="dropmenu sf-js-enabled sf-arrows" id="menu_nav" style="touch-action: pan-y;">
					</ul>
				</div>
			</div>
		</div>
		<div id="content_section">
			<div id="main_content_section">

			<a id="msg1003811"></a>
			<div class="pagesection top">
				
		<div class="buttonlist floatright">
			
				<a class="button-forum  button_strip_print" href="http://forum.arduino.cc/index.php?action=printpage;topic=106043.0" rel="nofollow">Print</a>
		</div>
				 <a href="http://forum.arduino.cc/index.php?topic=106043.msg1009294.html#bot" class="topbottom floatleft">Go Down</a>
				<div class="pagelinks floatleft">
					<span class="pages">Pages: </span><a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.255"><span class="previous_page"></span></a> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.0">1</a> <span class="expand_pages" onclick="expandPages(this, &#39;&lt;a class=&quot;navPages&quot; href=&quot;&#39; + smf_scripturl + &#39;?topic=106043.%1$d&quot;&gt;%2$s&lt;/a&gt; &#39;, 15, 240, 15);"> ... </span><a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.240">17</a> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.255">18</a> <span class="current_page">[19]</span> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.285">20</a> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.300">21</a> <span class="expand_pages" onclick="expandPages(this, &#39;&lt;a class=&quot;navPages&quot; href=&quot;&#39; + smf_scripturl + &#39;?topic=106043.%1$d&quot;&gt;%2$s&lt;/a&gt; &#39;, 315, 555, 15);"> ... </span><a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.555">38</a> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.285"><span class="next_page"></span></a> 
				</div>
			</div>
			<div id="forumposts">
				<div class="cat_bar">
					<h3 class="catbg">
						<span id="top_subject" class="topic-icon topic-icon-">Topic: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA&nbsp;<span>(Read 157751 times)</span></span>
						<span class="nextlinks floatright"><a href="http://forum.arduino.cc/index.php?topic=106043.0;prev_next=prev#new">previous topic</a> - <a href="http://forum.arduino.cc/index.php?topic=106043.0;prev_next=next#new">next topic</a></span>
					</h3>
				</div>
				<form action="http://forum.arduino.cc/index.php?action=quickmod2;topic=106043.270" method="post" accept-charset="UTF-8" name="quickModForm" id="quickModForm" style="margin: 0;" onsubmit="return oQuickModify.bInEditMode ? oQuickModify.modifySave(&#39;dfce2dd498f7bf68619f16d5b94e7910&#39;, &#39;f8a3acf73&#39;) : false">
				<div class="windowbg">
					<div class="post_wrapper">
						<div class="poster">
									<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=155626" title="View the profile of CyklKent" class="pm_icon">CyklKent</a>
									</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=155626"><img class="avatar" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/default.png" alt="avatar_CyklKent"></a>
								</li>
								<li class="icons"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 7</li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=155626;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=155626;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xx.png" alt="">
								</div>
								<div id="subject_1003811" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1003811#msg1003811" rel="nofollow">Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5</a></div>
								<div class="page_number floatright">
									 #270 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=106043.msg1003811#msg1003811" rel="nofollow" title="Reply #270 - Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5" class="smalltext">Nov 20, 2012, 09:36 pm</a>
									<span class="smalltext modified" id="modified_1003811"></span>
								</h5>
								<div id="msg_1003811_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1003811">Thank you for the reply. I will post the code this evening. Here is a picture of the hardware. I am sorry but I can't show the actual set up or the 3in<sup>2</sup> object being measured. The red and black wires hanging out from one sensor was temporary to watch on a scope. <br></div>
							</div>
							<div id="msg_1003811_footer" class="attachments">
									<div class="floatleft">
										<div class="attachments_bot">
											<a href="http://forum.arduino.cc/index.php?action=dlattach;topic=106043.0;attach=29857"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/clip.png" class="centericon" alt="*">&nbsp;IMG_20121120_111410.jpg</a> 
											<br>3.68 MB<br>downloaded 163 times
										</div>
									</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg1004199"></a>
					<div class="post_wrapper">
						<div class="poster">
									<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=155626" title="View the profile of CyklKent" class="pm_icon">CyklKent</a>
									</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=155626"><img class="avatar" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/default.png" alt="avatar_CyklKent"></a>
								</li>
								<li class="icons"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 7</li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=155626;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=155626;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xx.png" alt="">
								</div>
								<div id="subject_1004199" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1004199#msg1004199" rel="nofollow">Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5</a></div>
								<div class="page_number floatright">
									 #271 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=106043.msg1004199#msg1004199" rel="nofollow" title="Reply #271 - Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5" class="smalltext">Nov 21, 2012, 05:32 am</a>
									<span class="smalltext modified" id="modified_1004199"></span>
								</h5>
								<div id="msg_1004199_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1004199">Here is the code that I normally use:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include &lt;NewPing.h&gt;<br><br>#define TRIGGER_PIN&nbsp; 12<br>#define ECHO_PIN&nbsp; &nbsp; &nbsp;13<br>#define MAX_DISTANCE 200&nbsp; // In Centimeters (200cm = 78.7") It will not keep waiting for a return if past this value<br><br>NewPing sonar(TRIGGER_PIN, ECHO_PIN, MAX_DISTANCE);<br><br>void setup() {<br>&nbsp; Serial.begin(9600);<br>}<br><br>void loop() {<br>&nbsp; float uS = sonar.ping_median(5);<br>&nbsp; Serial.print(uS / US_ROUNDTRIP_IN);<br>&nbsp; Serial.print("a");<br>}<br><br></code></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg1004899"></a>
					<div class="post_wrapper">
						<div class="poster">
									<h4>
								<span class="on" title="Online"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=99821" title="View the profile of teckel" class="pm_icon">teckel</a>
									</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=99821"><img class="avatar" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/teckel.jpg" alt="avatar_teckel"></a>
								</li>
								<li class="icons"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"></li>
								<li class="postgroup">God Member</li>
								<li class="postcount">Posts: 540</li>
								<li class="profile">
									<ol class="profile_icons">
										<li><a href="http://forum.arduino.cc/code.google.com/p/arduino-new-ping/" title="NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING)))" target="_blank" class="new_win"><span class="generic_icons www centericon" title="NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING)))"></span></a></li>
									</ol>
								</li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=99821;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							<li class="link-profile"><a href="http://forum.arduino.cc/code.google.com/p/arduino-new-ping/">NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING)))</a></li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=99821;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xx.png" alt="">
								</div>
								<div id="subject_1004899" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1004899#msg1004899" rel="nofollow">Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5</a></div>
								<div class="page_number floatright">
									 #272 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=106043.msg1004899#msg1004899" rel="nofollow" title="Reply #272 - Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5" class="smalltext">Nov 21, 2012, 07:24 pm</a>
									<span class="smalltext modified" id="modified_1004899"></span>
								</h5>
								<div id="msg_1004899_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1004899"><div class="quoteheader"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1004199#msg1004199">Quote from: CyklKent on Nov 21, 2012, 05:32 am</a></div><blockquote class="bbc_standard_quote"><br>Here is the code that I normally use:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include &lt;NewPing.h&gt;<br><br>#define TRIGGER_PIN&nbsp; 12<br>#define ECHO_PIN&nbsp; &nbsp; &nbsp;13<br>#define MAX_DISTANCE 200&nbsp; // In Centimeters (200cm = 78.7") It will not keep waiting for a return if past this value<br><br>NewPing sonar(TRIGGER_PIN, ECHO_PIN, MAX_DISTANCE);<br><br>void setup() {<br>&nbsp; Serial.begin(9600);<br>}<br><br>void loop() {<br>&nbsp; float uS = sonar.ping_median(5);<br>&nbsp; Serial.print(uS / US_ROUNDTRIP_IN);<br>&nbsp; Serial.print("a");<br>}<br><br></code><br></blockquote><div class="quotefooter"></div><br><br>I was hoping to get the picture of your testing jig in the test environment to look for possible echo sources.<br><br>But, looking at just your sketch I can see a problem.&nbsp; Your sketch is sending a ping on top of an old ping, with no pause between.&nbsp; This won't give reliable results.&nbsp; What you'll get is possible echos.&nbsp; You *MUST* wait *AT LEAST* 29ms between pings.&nbsp; The reason you shouldn't go faster has to do with the sensor hardware and the speed of sound.&nbsp; The sensors can sense up to around 500cm away (1000cm round-trip).&nbsp; Speed of sound is around 29uS per cm.&nbsp; That works out to 29ms.&nbsp; If you don't wait *AT LEAST* 29ms, you could get an ping echo from a previous ping giving you all kinds of strange results.<br><br>While the ping_median() method adds a delay between each ping, it doesn't add a delay before or at the end.&nbsp; So, the first ping is basically on top of the last ping.&nbsp; It doesn't add a delay at the end of the ping_median() on purpose, so you can add whatever delay you want, or none at all if it's a one-time only ping.<br><br>So, after the sonar.ping_median(5), you need to add a line with something like "delay(29);"<br><br>Also, you shouldn't use pin 13 if you're using an Arduino as there's an LED on that pin.&nbsp; Change that to any other pin to avoid possible conflict.&nbsp; I stopped using pin 13 in my sample sketches due to a couple users having problems with an LED conflict.&nbsp; Best to avoid that.<br><br>If you still have a problem, I would lengthen the delay between pings to something much larger, say 100ms.&nbsp; You need to change the delay(29) to delay(100) as well as edit the NewPing.h file and change the PING_MEDIAN_DELAY from 29000 to 100000.&nbsp; While a ping delay of 29ms should be long enough, if the sensor is too sensitive (say it can sense up to 600cm away, it would need at least a 600*2*29=34800uS [35ms] delay between pings).<br><br>Tim</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_1004899_signature">Arduino - Teensy - Raspberry Pi<br>My libraries: NewPing - LCDBitmap - toneAC - NewTone - TimerFreeTone</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg1005177"></a>
					<div class="post_wrapper">
						<div class="poster">
									<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=155626" title="View the profile of CyklKent" class="pm_icon">CyklKent</a>
									</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=155626"><img class="avatar" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/default.png" alt="avatar_CyklKent"></a>
								</li>
								<li class="icons"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 7</li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=155626;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=155626;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xx.png" alt="">
								</div>
								<div id="subject_1005177" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1005177#msg1005177" rel="nofollow">Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5</a></div>
								<div class="page_number floatright">
									 #273 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=106043.msg1005177#msg1005177" rel="nofollow" title="Reply #273 - Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5" class="smalltext">Nov 21, 2012, 10:27 pm</a>
									<span class="smalltext modified" id="modified_1005177"><span class="lastedit">Last Edit</span>: Nov 22, 2012, 01:47 am by CyklKent&nbsp;<span class="lastedit">Reason</span>: 1</span>
								</h5>
								<div id="msg_1005177_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1005177">I thank you for the reply and advice. I did not realize that there was no delay between the last median ping and the next first median ping. I will update like the below (actually, I will probably go with 35 delay in the library and below):<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include &lt;NewPing.h&gt;<br><br>#define TRIGGER_PIN &nbsp;12<br>#define ECHO_PIN &nbsp; &nbsp; 11<br>#define MAX_DISTANCE 200 &nbsp;// In Centimeters (200cm = 78.7") It will not keep waiting for a return if past this value<br><br>NewPing sonar(TRIGGER_PIN, ECHO_PIN, MAX_DISTANCE);<br><br>void setup() {<br> &nbsp;Serial.begin(9600);<br>}<br><br>void loop() {<br> &nbsp;float uS = sonar.ping_median(5);<br> &nbsp;delay(29);<br> &nbsp;Serial.print(uS / US_ROUNDTRIP_IN);<br> &nbsp;Serial.print("a");<br>}<br></code><br>I did run with no median and a 200 delay, and I still got some stray distance returns (that are oddly similar in value for a certain test period or day or two). I can live with a certain amount of stray distance returns, but some times it gets real bad. I will run on pin 11. I have gone through fixes that seem to fix the problem, and then I find out days later that the problem is back. Your library gave perfect results for a good while (earlier sketches with and without libraries did give stray values). I found that 3 different 9vdc wall warts gave stray returns, and then laptop or wall plug 5v usb had perfect returns....a month later I couldn't tell the difference between the power inputs. I do see some 60 hz at the sensor with the &nbsp;9vdc wall warts. I have been wondering if I need a separate power supply for the ultrasonic sensor ( I don't know if there is a ground problem doing that). I think I will solder a 10uF capacitor across the sensor Vcc and ground. There seems to be two 47uF caps on the Arduino for its regulation (the new Arduino Due only has one I just noticed). I am going to do more testing, but I have to admit that I may have to change to a different type of sensor set up. My setup possibly does have echo problems. I may try with single pings every 2 seconds just to try to rule out echos as problems (I have tried with 500 delay before). I also am going to try completely unplugging the bluetooth module and watching the serial printer on the laptop (I usually watch distance values on my tablet via bluetooth). <br>Thank you again.</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg1006599"></a>
					<div class="post_wrapper">
						<div class="poster">
									<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=155626" title="View the profile of CyklKent" class="pm_icon">CyklKent</a>
									</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=155626"><img class="avatar" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/default.png" alt="avatar_CyklKent"></a>
								</li>
								<li class="icons"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 7</li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=155626;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=155626;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xx.png" alt="">
								</div>
								<div id="subject_1006599" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1006599#msg1006599" rel="nofollow">Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5</a></div>
								<div class="page_number floatright">
									 #274 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=106043.msg1006599#msg1006599" rel="nofollow" title="Reply #274 - Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5" class="smalltext">Nov 23, 2012, 05:54 am</a>
									<span class="smalltext modified" id="modified_1006599"><span class="lastedit">Last Edit</span>: Nov 23, 2012, 05:56 am by CyklKent&nbsp;<span class="lastedit">Reason</span>: 1</span>
								</h5>
								<div id="msg_1006599_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1006599">Wow, I am full. I want to eat more though XD<br>The below is what I use when I am wanting to see every ping result for testing (yes, I know that delays are to be avoided (even though Tim just told me I needed to add a delay between medians)).<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include &lt;NewPing.h&gt;<br><br>#define TRIGGER_PIN&nbsp; 12<br>#define ECHO_PIN&nbsp; &nbsp; &nbsp;13<br>#define MAX_DISTANCE 200<br><br>NewPing sonar(TRIGGER_PIN, ECHO_PIN, MAX_DISTANCE);<br><br>void setup() {<br>&nbsp; Serial.begin(9600);<br>}<br><br>void loop() {<br>&nbsp; float uS = sonar.ping();<br>&nbsp; Serial.print(uS / US_ROUNDTRIP_IN);<br>&nbsp; Serial.print("a");<br>&nbsp; delay(500);<br>}<br><br></code></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg1007852"></a>
					<div class="post_wrapper">
						<div class="poster">
									<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=156201" title="View the profile of murphy" class="pm_icon">murphy</a>
									</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=156201"><img class="avatar" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/default.png" alt="avatar_murphy"></a>
								</li>
								<li class="icons"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 2</li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=156201;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=156201;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xx.png" alt="">
								</div>
								<div id="subject_1007852" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1007852#msg1007852" rel="nofollow">Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5</a></div>
								<div class="page_number floatright">
									 #275 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=106043.msg1007852#msg1007852" rel="nofollow" title="Reply #275 - Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5" class="smalltext">Nov 24, 2012, 03:42 pm</a>
									<span class="smalltext modified" id="modified_1007852"><span class="lastedit">Last Edit</span>: Nov 24, 2012, 07:29 pm by murphy&nbsp;<span class="lastedit">Reason</span>: 1</span>
								</h5>
								<div id="msg_1007852_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1007852">Hello.<br><br>I have a project with 8 HC-SR04. <br><br>My problem is that when I trigger a sensor, the sensor closest are also triggered. I'm not yet used this new library. Can anyone give me an idea how can I do that with this new library?<br><br>The project summary is:<br>8 sensors HC-SR04 each sensor being fired one at a time.<br><br>The distance that the sensor is triggered should be between 5 and 15 cm.<br><br>Best regards.<br><br>murphy<br><br>[[|]]'s</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg1007943"></a>
					<div class="post_wrapper">
						<div class="poster">
									<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=59073" title="View the profile of Bajdi" class="pm_icon">Bajdi</a>
									</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=59073"><img class="avatar" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/default.png" alt="avatar_E40racer"></a>
								</li>
								<li class="icons"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"></li>
								<li class="postgroup">Sr. Member</li>
								<li class="postcount">Posts: 290</li>
								<li class="profile">
									<ol class="profile_icons">
										<li><a href="http://www.bajdi.com/" title="My Arduino stuff" target="_blank" class="new_win"><span class="generic_icons www centericon" title="My Arduino stuff"></span></a></li>
									</ol>
								</li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=59073;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							<li class="link-profile"><a href="http://www.bajdi.com/">My Arduino stuff</a></li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=59073;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xx.png" alt="">
								</div>
								<div id="subject_1007943" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1007943#msg1007943" rel="nofollow">Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5</a></div>
								<div class="page_number floatright">
									 #276 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=106043.msg1007943#msg1007943" rel="nofollow" title="Reply #276 - Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5" class="smalltext">Nov 24, 2012, 05:22 pm</a>
									<span class="smalltext modified" id="modified_1007943"></span>
								</h5>
								<div id="msg_1007943_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1007943"><div class="quoteheader"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1007852#msg1007852">Quote from: murphy on Nov 24, 2012, 03:42 pm</a></div><blockquote class="bbc_standard_quote"><br>Hello.<br><br>I have a project with 8 HC-SR04 sharp sensors. <br><br>My problem is that when I trigger a sensor, the sensor closest are also triggered. I'm not yet used this new library. Can anyone give me an idea how can I do that with this new library?<br><br>The project summary is:<br>8 sensors sharp HC-SR04 each sensor being fired one at a time.<br><br>The distance that the sensor is triggered should be between 5 and 15 cm.<br><br>Best regards.<br><br>murphy<br><br>[[|]]'s<br></blockquote><div class="quotefooter"></div><br><br>Sharp sensors? Those are completely different sensor to the HC-SR04.</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_1007943_signature">www.bajdi.com</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg1008082"></a>
					<div class="post_wrapper">
						<div class="poster">
									<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=156201" title="View the profile of murphy" class="pm_icon">murphy</a>
									</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=156201"><img class="avatar" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/default.png" alt="avatar_murphy"></a>
								</li>
								<li class="icons"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 2</li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=156201;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=156201;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xx.png" alt="">
								</div>
								<div id="subject_1008082" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1008082#msg1008082" rel="nofollow">Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5</a></div>
								<div class="page_number floatright">
									 #277 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=106043.msg1008082#msg1008082" rel="nofollow" title="Reply #277 - Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5" class="smalltext">Nov 24, 2012, 07:31 pm</a>
									<span class="smalltext modified" id="modified_1008082"></span>
								</h5>
								<div id="msg_1008082_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1008082">Sorry, is only HC-SR04. I thought they were maded by sharp</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg1008138"></a>
					<div class="post_wrapper">
						<div class="poster">
									<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=121345" title="View the profile of xvjeko" class="pm_icon">xvjeko</a>
									</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=121345"><img class="avatar" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xvjeko.jpg" alt="avatar_xvjeko"></a>
								</li>
								<li class="icons"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"></li>
								<li class="postgroup">Full Member</li>
								<li class="postcount">Posts: 104</li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=121345;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=121345;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xx.png" alt="">
								</div>
								<div id="subject_1008138" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1008138#msg1008138" rel="nofollow">Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5</a></div>
								<div class="page_number floatright">
									 #278 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=106043.msg1008138#msg1008138" rel="nofollow" title="Reply #278 - Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5" class="smalltext">Nov 24, 2012, 08:12 pm</a>
									<span class="smalltext modified" id="modified_1008138"></span>
								</h5>
								<div id="msg_1008138_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1008138">is it ok to use this:<br><br>HC-SR04 -------&gt; &gt; &gt; &gt; &gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;blank space&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt; &lt; &lt; &lt; &lt; - ------HC-SR04 sensor 2<br><br>is it ok if i limit the max reading range of both sensors to like 50 cm (and i need to read 50 cm), and i place sensors like 200 cm away from each other..<br>Would this work if each sensor had an independent microcontroller <img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/huh.gif" alt="???" title="Huh?" class="smiley"><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;"><br>delay(STEP_TIME);<br>&nbsp; unsigned int uS1 = SONAR_L.ping();<br>&nbsp; per_l = uS1 / US_ROUNDTRIP_CM;<br></code><br><br>Is the blank space enough, or should i use a "sponge" to prevent interference between 2 of the sensors <img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/huh.gif" alt="???" title="Huh?" class="smiley">??<br>THX <img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/smiley-mr-green.png" alt=":smiley-mr-green:" title="smiley-mr-green" class="smiley"></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg1009177"></a>
					<div class="post_wrapper">
						<div class="poster">
									<h4>
								<span class="on" title="Online"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=99821" title="View the profile of teckel" class="pm_icon">teckel</a>
									</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=99821"><img class="avatar" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/teckel.jpg" alt="avatar_teckel"></a>
								</li>
								<li class="icons"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"></li>
								<li class="postgroup">God Member</li>
								<li class="postcount">Posts: 540</li>
								<li class="profile">
									<ol class="profile_icons">
										<li><a href="http://forum.arduino.cc/code.google.com/p/arduino-new-ping/" title="NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING)))" target="_blank" class="new_win"><span class="generic_icons www centericon" title="NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING)))"></span></a></li>
									</ol>
								</li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=99821;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							<li class="link-profile"><a href="http://forum.arduino.cc/code.google.com/p/arduino-new-ping/">NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING)))</a></li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=99821;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xx.png" alt="">
								</div>
								<div id="subject_1009177" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1009177#msg1009177" rel="nofollow">Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5</a></div>
								<div class="page_number floatright">
									 #279 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=106043.msg1009177#msg1009177" rel="nofollow" title="Reply #279 - Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5" class="smalltext">Nov 25, 2012, 05:55 pm</a>
									<span class="smalltext modified" id="modified_1009177"></span>
								</h5>
								<div id="msg_1009177_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1009177"><div class="quoteheader"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1007852#msg1007852">Quote from: murphy on Nov 24, 2012, 03:42 pm</a></div><blockquote class="bbc_standard_quote"><br>I have a project with 8 HC-SR04. <br><br>My problem is that when I trigger a sensor, the sensor closest are also triggered. I'm not yet used this new library. Can anyone give me an idea how can I do that with this new library?<br><br>The project summary is:<br>8 sensors HC-SR04 each sensor being fired one at a time.<br><br>The distance that the sensor is triggered should be between 5 and 15 cm.<br></blockquote><div class="quotefooter"></div><br><br>I have an example sketch that pings 15 sensors that's designed to be scaled to any number of sensors.<br><br>http://code.google.com/p/arduino-new-ping/wiki/15_Sensors_Example<br><br>Just set SONAR_NUM to 8 and modify the sonar object array to 8 sensors and to the pins tied to each.&nbsp; This sketch works using the timer method so there's no delays and it will therefore work in many complicated sketches (just do everything triggered from events with no delays).&nbsp; Also, as NewPing will work using the same pin for both trigger and echo, you only need to use 8 pins to work with all 8 sensors.&nbsp; So, it's possible that your project would fit on a Uno or Teensy 2.0.&nbsp; Which is a huge bonus for both price and size.<br><br>You shouldn't have any problem getting this example sketch working with your 8 sensors.&nbsp; And it shouldn't be much of a challenge getting it integrated with your overall project sketch.<br><br>I'm going to make another post with tips on using the 15 sensor example sketch as some are having problems understanding how to use an event-driven sketch like this.<br><br>Tim</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_1009177_signature">Arduino - Teensy - Raspberry Pi<br>My libraries: NewPing - LCDBitmap - toneAC - NewTone - TimerFreeTone</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg1009225"></a>
					<div class="post_wrapper">
						<div class="poster">
									<h4>
								<span class="on" title="Online"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=99821" title="View the profile of teckel" class="pm_icon">teckel</a>
									</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=99821"><img class="avatar" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/teckel.jpg" alt="avatar_teckel"></a>
								</li>
								<li class="icons"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"></li>
								<li class="postgroup">God Member</li>
								<li class="postcount">Posts: 540</li>
								<li class="profile">
									<ol class="profile_icons">
										<li><a href="http://forum.arduino.cc/code.google.com/p/arduino-new-ping/" title="NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING)))" target="_blank" class="new_win"><span class="generic_icons www centericon" title="NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING)))"></span></a></li>
									</ol>
								</li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=99821;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							<li class="link-profile"><a href="http://forum.arduino.cc/code.google.com/p/arduino-new-ping/">NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING)))</a></li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=99821;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xx.png" alt="">
								</div>
								<div id="subject_1009225" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1009225#msg1009225" rel="nofollow">Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5</a></div>
								<div class="page_number floatright">
									 #280 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=106043.msg1009225#msg1009225" rel="nofollow" title="Reply #280 - Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5" class="smalltext">Nov 25, 2012, 06:35 pm</a>
									<span class="smalltext modified" id="modified_1009225"></span>
								</h5>
								<div id="msg_1009225_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1009225"><div class="quoteheader"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1008138#msg1008138">Quote from: xvjeko on Nov 24, 2012, 08:12 pm</a></div><blockquote class="bbc_standard_quote"><br>is it ok to use this:<br><br>HC-SR04 -------&gt; &gt; &gt; &gt; &gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;blank space&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt; &lt; &lt; &lt; &lt; - ------HC-SR04 sensor 2<br><br>is it ok if i limit the max reading range of both sensors to like 50 cm (and i need to read 50 cm), and i place sensors like 200 cm away from each other..<br>Would this work if each sensor had an independent microcontroller <img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/huh.gif" alt="???" title="Huh?" class="smiley"><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;"><br>delay(STEP_TIME);<br>&nbsp; unsigned int uS1 = SONAR_L.ping();<br>&nbsp; per_l = uS1 / US_ROUNDTRIP_CM;<br></code><br><br>Is the blank space enough, or should i use a "sponge" to prevent interference between 2 of the sensors <img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/huh.gif" alt="???" title="Huh?" class="smiley">??<br>THX <img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/smiley-mr-green.png" alt=":smiley-mr-green:" title="smiley-mr-green" class="smiley"><br></blockquote><div class="quotefooter"></div><br><br>The thing to remember is that setting the maximum distance doesn't change how strong the trigger ping is nor how far the sensor will actually sense a ping.&nbsp; All it does is just make anything beyond the set distance register as "clear" and the Arduino to stop monitoring that sensor.&nbsp; The strength of the ping and the ability for a sensor to read a ping up to 500cm away is still there.<br><br>There's still a benefit in setting this distance as short as possible for your project.&nbsp; Especially when using the standard ping() method.&nbsp; But, don't think of it as changing the way the actual sensor works.<br><br>What you always need to consider is that when a sensor does a ping, that ping can echo from around 29 to 35ms.&nbsp; It doesn't matter what you set the maximum distance to, this is how long a ping could be read by another sensor as a stray echo.<br><br>So in your example, it really depends on what the time is between pings.&nbsp; If the ping to ping time is 100ms, there would be no issue.&nbsp; If, however, you want to ping both sensors at the exact same time, you could have a problem.<br><br>Hope this helps.<br><br>Tim</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_1009225_signature">Arduino - Teensy - Raspberry Pi<br>My libraries: NewPing - LCDBitmap - toneAC - NewTone - TimerFreeTone</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg1009229"></a>
					<div class="post_wrapper">
						<div class="poster">
									<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=121345" title="View the profile of xvjeko" class="pm_icon">xvjeko</a>
									</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=121345"><img class="avatar" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xvjeko.jpg" alt="avatar_xvjeko"></a>
								</li>
								<li class="icons"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"></li>
								<li class="postgroup">Full Member</li>
								<li class="postcount">Posts: 104</li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=121345;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=121345;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xx.png" alt="">
								</div>
								<div id="subject_1009229" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1009229#msg1009229" rel="nofollow">Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5</a></div>
								<div class="page_number floatright">
									 #281 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=106043.msg1009229#msg1009229" rel="nofollow" title="Reply #281 - Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5" class="smalltext">Nov 25, 2012, 06:41 pm</a>
									<span class="smalltext modified" id="modified_1009229"></span>
								</h5>
								<div id="msg_1009229_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1009229"><div class="quoteheader"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1009225#msg1009225">Quote from: teckel on Nov 25, 2012, 06:35 pm</a></div><blockquote class="bbc_standard_quote"><br><div class="quoteheader"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1008138#msg1008138">Quote from: xvjeko on Nov 24, 2012, 08:12 pm</a></div><blockquote class="bbc_alternate_quote"><br>is it ok to use this:<br><br>HC-SR04 -------&gt; &gt; &gt; &gt; &gt;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;blank space&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt; &lt; &lt; &lt; &lt; - ------HC-SR04 sensor 2<br><br>is it ok if i limit the max reading range of both sensors to like 50 cm (and i need to read 50 cm), and i place sensors like 200 cm away from each other..<br>Would this work if each sensor had an independent microcontroller <img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/huh.gif" alt="???" title="Huh?" class="smiley"><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;"><br>delay(STEP_TIME);<br>&nbsp; unsigned int uS1 = SONAR_L.ping();<br>&nbsp; per_l = uS1 / US_ROUNDTRIP_CM;<br></code><br><br>Is the blank space enough, or should i use a "sponge" to prevent interference between 2 of the sensors <img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/huh.gif" alt="???" title="Huh?" class="smiley">??<br>THX <img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/smiley-mr-green.png" alt=":smiley-mr-green:" title="smiley-mr-green" class="smiley"><br></blockquote><div class="quotefooter"></div><br><br>The thing to remember is that setting the maximum distance doesn't change how strong the trigger ping is nor how far the sensor will actually sense a ping.&nbsp; All it does is just make anything beyond the set distance register as "clear" and the Arduino to stop monitoring that sensor.&nbsp; The strength of the ping and the ability for a sensor to read a ping up to 500cm away is still there.<br><br>There's still a benefit in setting this distance as short as possible for your project.&nbsp; Especially when using the standard ping() method.&nbsp; But, don't think of it as changing the way the actual sensor works.<br><br>What you always need to consider is that when a sensor does a ping, that ping can echo from around 29 to 35ms.&nbsp; It doesn't matter what you set the maximum distance to, this is how long a ping could be read by another sensor as a stray echo.<br><br>So in your example, it really depends on what the time is between pings.&nbsp; If the ping to ping time is 100ms, there would be no issue.&nbsp; If, however, you want to ping both sensors at the exact same time, you could have a problem.<br><br>Hope this helps.<br><br>Tim<br></blockquote><div class="quotefooter"></div><br>Thanks for the anwser...<br>I will solve the problem by syncing them (only one sensor will work at a time, then a short delay, then the second will work etc...)<br></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg1009294"></a><a id="new"></a>
					<div class="post_wrapper">
						<div class="poster">
									<h4>
								<span class="on" title="Online"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=99821" title="View the profile of teckel" class="pm_icon">teckel</a>
									</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=99821"><img class="avatar" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/teckel.jpg" alt="avatar_teckel"></a>
								</li>
								<li class="icons"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"></li>
								<li class="postgroup">God Member</li>
								<li class="postcount">Posts: 540</li>
								<li class="profile">
									<ol class="profile_icons">
										<li><a href="http://forum.arduino.cc/code.google.com/p/arduino-new-ping/" title="NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING)))" target="_blank" class="new_win"><span class="generic_icons www centericon" title="NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING)))"></span></a></li>
									</ol>
								</li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=99821;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							<li class="link-profile"><a href="http://forum.arduino.cc/code.google.com/p/arduino-new-ping/">NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING)))</a></li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=99821;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xx.png" alt="">
								</div>
								<div id="subject_1009294" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1009294#msg1009294" rel="nofollow">15 Sensors Example Sketch Help</a></div>
								<div class="page_number floatright">
									 #282 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=106043.msg1009294#msg1009294" rel="nofollow" title="Reply #282 - 15 Sensors Example Sketch Help" class="smalltext">Nov 25, 2012, 07:46 pm</a>
									<span class="smalltext modified" id="modified_1009294"><span class="lastedit">Last Edit</span>: Dec 01, 2012, 05:11 pm by teckel&nbsp;<span class="lastedit">Reason</span>: 1</span>
								</h5>
								<div id="msg_1009294_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1009294">There's been some confusion about how to use the <a href="http://code.google.com/p/arduino-new-ping/wiki/15_Sensors_Example" class="bbc_link" target="_blank">15 Sensors Example Sketch</a>. &nbsp;I've changed some of the comments in the online code to help.&nbsp; But, I think a post explaining this further would be beneficial.<br><br>The 15 Sensors Example Sketch uses the ping_timer() method which is designed for event-driven sketches that don't use delays. &nbsp;If you're only used to Arduino sketches that are linear and have delays in the code, this concept will be quite foreign to you. &nbsp;However, it's a good idea to try and embrace an event-driven paradigm. &nbsp;Simple example "hello world" sketches work fine using delays. &nbsp;But, once you try to do a complex project, using delays will often result in a project that just doesn't do what you want. &nbsp;Consider controlling a motorized robot with remote control that balances and using ping sensors to avoid collisions. &nbsp;Any delay at all, probably even 1 ms, would cause the balancing to fail and therefore your project would never work. &nbsp;In other words, it's a good idea to start not using delays at all, or you're going to have a really hard time getting your project off the ground (literally with the balancing robot example).<br><br>So, it's good to first note that the 15 sensor example doesn't use any delays and is event driven. &nbsp;You can think of it as multitasking. &nbsp;The for() loop in void() polls each sensor array waiting for when it's that sensor's time to ping. &nbsp;If it's time to ping, it triggers a ping_timer() to run in the background. &nbsp;After the for() loop in void() where the comment is, you could add other code here that doesn't have anything to do with ping sensors. &nbsp;For example: monitoring other sensors, controlling status lights, or whatever. &nbsp;But, it's VERY important that these other things are also designed in an event-driven way with no delays. &nbsp;If you add delays, it will miss ping times and skip them, resulting in what appears to be an error.<br><br>echoCheck() is where the background ping is polled every 24uS to see if a ping was received. If a ping is received, it sets the ping distance in CM in the cm[] array. &nbsp;You shouldn't add anything to echoCheck() to use this sketch in its designed way. &nbsp;This function always needs to be very lean as it's called every 24uS during a ping.<br><br>oneSensorCycle() is called once all of your sensors have been polled. &nbsp;Lets say you have 8 sensors. &nbsp;Every time all 8 sensors are pinged, this function is called and you can do something with the results. &nbsp;For example, determine the surroundings of your robot and maybe make a motor direction change. &nbsp;It doesn't have to output the results over a serial connection, this is just here for testing. &nbsp;In a real-world sketch, you would remove or comment out everything in the oneSensorCycle() function and replace it with your code that does something with the sensor data in the cm[] array.<br><br>Also note, the 15 Sensors Example Sketch is designed to ping all the sensors and then do something with the results once all the sensors have been polled. &nbsp;Some want to ping each sensor and then do something right away maybe between any two pings. &nbsp;To do that, we no longer need the oneSensorCycle() function nor the if() statement in loop() that calls oneSensorCycle(). &nbsp;The following sketch calls the pingResult() function every time there's a ping within range. &nbsp;Because this sketch still keeps the cm[] array, you can look at neighboring ping results in the cm[] array to do whatever calculations you need to do.<br><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include &lt;NewPing.h&gt;<br><br>#define SONAR_NUM &nbsp; &nbsp; &nbsp;3 // Number of sensors.<br>#define MAX_DISTANCE 200 // Maximum distance (in cm) to ping.<br>#define PING_INTERVAL 33 // Milliseconds between sensor pings (29ms is about the min to avoid cross-sensor echo).<br><br>unsigned long pingTimer[SONAR_NUM]; // Holds the times when the next ping should happen for each sensor.<br>unsigned int cm[SONAR_NUM]; &nbsp; &nbsp; &nbsp; &nbsp; // Where the ping distances are stored.<br>uint8_t currentSensor = 0; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Keeps track of which sensor is active.<br><br>NewPing sonar[SONAR_NUM] = { &nbsp; // Sensor object array.<br> &nbsp;NewPing(4, 5, MAX_DISTANCE), // Each sensor's trigger pin, echo pin, and max distance to ping.<br> &nbsp;NewPing(6, 7, MAX_DISTANCE),<br> &nbsp;NewPing(8, 9, MAX_DISTANCE)<br>};<br><br>void setup() {<br> &nbsp;Serial.begin(115200);<br> &nbsp;pingTimer[0] = millis() + 75; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // First ping starts at 75ms, gives time for the Arduino to chill before starting.<br> &nbsp;for (uint8_t i = 1; i &lt; SONAR_NUM; i++) // Set the starting time for each sensor.<br> &nbsp; &nbsp;pingTimer[i] = pingTimer[i - 1] + PING_INTERVAL;<br>}<br><br>void loop() {<br> &nbsp;for (uint8_t i = 0; i &lt; SONAR_NUM; i++) { // Loop through all the sensors.<br> &nbsp; &nbsp;if (millis() &gt;= pingTimer[i]) { &nbsp; &nbsp; &nbsp; &nbsp; // Is it this sensor's time to ping?<br> &nbsp; &nbsp; &nbsp;pingTimer[i] += PING_INTERVAL * SONAR_NUM; &nbsp;// Set next time this sensor will be pinged.<br> &nbsp; &nbsp; &nbsp;sonar[currentSensor].timer_stop(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Make sure previous timer is canceled before starting a new ping (insurance).<br> &nbsp; &nbsp; &nbsp;currentSensor = i; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Sensor being accessed.<br> &nbsp; &nbsp; &nbsp;cm[currentSensor] = 0; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Make distance zero in case there's no ping echo for this sensor.<br> &nbsp; &nbsp; &nbsp;sonar[currentSensor].ping_timer(echoCheck); // Do the ping (processing continues, interrupt will call echoCheck to look for echo).<br> &nbsp; &nbsp;}<br> &nbsp;}<br> &nbsp;// Other code that *DOESN'T* analyze ping results can go here.<br>}<br><br>void echoCheck() { // If ping received, set the sensor distance to array.<br> &nbsp;if (sonar[currentSensor].check_timer()) {<br> &nbsp; &nbsp;cm[currentSensor] = sonar[currentSensor].ping_result / US_ROUNDTRIP_CM;<br> &nbsp; &nbsp;pingResult(currentSensor);<br> &nbsp;}<br>}<br><br>void pingResult(uint8_t sensor) { // Sensor got a ping, do something with the result.<br> &nbsp;// The following code would be replaced with your code that does something with the ping result.<br> &nbsp;Serial.print(sensor);<br> &nbsp;Serial.print(" ");<br> &nbsp;Serial.print(cm[sensor]);<br> &nbsp;Serial.println("cm");<br>}</code><br><br>If, however, you don't really care about comparing neighboring ping results and just want to ping multiple sensors and anytime there's something within range you want to trigger something, you can totally get rid of the cm[] array. &nbsp;The following code is probably the easiest to understand, as it simply pings each sensor and when there's a ping within range, the pingResult() function is called. &nbsp;You get the sensor number and the cm distance which you can do something with. &nbsp;It will only call pingResult() when one of the sensors "hears" something within range.<br><br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: 200px;">#include &lt;NewPing.h&gt;<br><br>#define SONAR_NUM &nbsp; &nbsp; &nbsp;3<br>#define MAX_DISTANCE 200<br>#define PING_INTERVAL 33<br><br>unsigned long pingTimer[SONAR_NUM];<br>uint8_t currentSensor = 0;<br><br>NewPing sonar[SONAR_NUM] = {<br> &nbsp;NewPing(4, 5, MAX_DISTANCE),<br> &nbsp;NewPing(6, 7, MAX_DISTANCE),<br> &nbsp;NewPing(8, 9, MAX_DISTANCE)<br>};<br><br>void setup() {<br> &nbsp;Serial.begin(115200);<br> &nbsp;pingTimer[0] = millis() + 75;<br> &nbsp;for (uint8_t i = 1; i &lt; SONAR_NUM; i++)<br> &nbsp; &nbsp;pingTimer[i] = pingTimer[i - 1] + PING_INTERVAL;<br>}<br><br>void loop() {<br> &nbsp;for (uint8_t i = 0; i &lt; SONAR_NUM; i++) {<br> &nbsp; &nbsp;if (millis() &gt;= pingTimer[i]) {<br> &nbsp; &nbsp; &nbsp;pingTimer[i] += PING_INTERVAL * SONAR_NUM;<br> &nbsp; &nbsp; &nbsp;sonar[currentSensor].timer_stop();<br> &nbsp; &nbsp; &nbsp;currentSensor = i;<br> &nbsp; &nbsp; &nbsp;sonar[currentSensor].ping_timer(echoCheck);<br> &nbsp; &nbsp;}<br> &nbsp;}<br> &nbsp;// Other code that *DOESN'T* analyze ping results can go here.<br>}<br><br>void echoCheck() {<br> &nbsp;if (sonar[currentSensor].check_timer())<br> &nbsp; &nbsp;pingResult(currentSensor, sonar[currentSensor].ping_result / US_ROUNDTRIP_CM);<br>}<br><br>void pingResult(uint8_t sensor, int cm) {<br> &nbsp;// The following code would be replaced with your code that does something with the ping result.<br> &nbsp;Serial.print(sensor);<br> &nbsp;Serial.print(" ");<br> &nbsp;Serial.print(cm);<br> &nbsp;Serial.println("cm");<br>}</code><br><br>Remember, to analyze the ping results, you do that in the pingResults() function in the above sketches or in the oneSensorCycle() function in the 15 Sensors Example Sketch. &nbsp;Also, none of these will properly work if you do any delay statements at any point in your sketch. &nbsp;<br><br>If you ever want to stop the pings in your sketch, for example to do something that requires delays or takes longer than 33ms to process, do the following:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;"><br>for (uint8_t i = 0; i &lt; SONAR_NUM; i++) pingTimer[i] = -1;<br></code><br><br>To start the pings again, do the following:<br><div class="codeheader">Code: <a href="javascript:void(0);" onclick="return smfSelectText(this);" class="codeoperation">[Select]</a></div><code class="bbc_code" style="max-height: none; height: auto;"><br>pingTimer[0] = millis();<br>for (uint8_t i = 1; i &lt; SONAR_NUM; i++) pingTimer[i] = pingTimer[i - 1] + PING_INTERVAL;<br></code><br><br>Hope this helps! &nbsp;Future questions about using the 15 Sensors Example Sketch will be directed to this post first in the hope this will explain things better. &nbsp;I can see some additions/corrections in the future to further clarify.<br><br>Tim</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_1009294_signature">Arduino - Teensy - Raspberry Pi<br>My libraries: NewPing - LCDBitmap - toneAC - NewTone - TimerFreeTone</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg2">
					<a id="msg1021720"></a>
					<div class="post_wrapper">
						<div class="poster">
									<h4>
								<span class="off" title="Offline"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=157750" title="View the profile of bulut" class="pm_icon">bulut</a>
									</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=157750"><img class="avatar" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/default.png" alt="avatar_bulut"></a>
								</li>
								<li class="icons"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"></li>
								<li class="postgroup">Newbie</li>
								<li class="postcount">Posts: 6</li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=157750;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=157750;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xx.png" alt="">
								</div>
								<div id="subject_1021720" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1021720#msg1021720" rel="nofollow">Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5</a></div>
								<div class="page_number floatright">
									 #283 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=106043.msg1021720#msg1021720" rel="nofollow" title="Reply #283 - Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5" class="smalltext">Dec 06, 2012, 02:38 am</a>
									<span class="smalltext modified" id="modified_1021720"></span>
								</h5>
								<div id="msg_1021720_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1021720">I've bought a chinese "reverse gear obstacle detector for cars" ultrasonic sensor and the board , i checked the board and find the trigger and echo pins for sensor like SR04 , but this sensor has a different specifications from SR04 , i want to use this new ping library for measuring the distance&nbsp; with arduino and this sensor, i am not sure witch parts of the code i have to change to work with my sensor , here is the specification of the sensor i got:<br><br>center frequency : 40KHZ&nbsp; (i checked the input pulse on the board with osciloscope it is 16 bursts)<br>Ringing : 1.2ms max<br>maximum input voltage : 120 Vp-p<br></div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
						</div>
					</div>
				</div>
				<hr class="post_separator">
				<div class="windowbg">
					<a id="msg1022367"></a>
					<div class="post_wrapper">
						<div class="poster">
									<h4>
								<span class="on" title="Online"></span>
								<a href="http://forum.arduino.cc/index.php?action=profile;u=99821" title="View the profile of teckel" class="pm_icon">teckel</a>
									</h4>
							<ul class="user_info">
								<li class="avatar">
									<a href="http://forum.arduino.cc/index.php?action=profile;u=99821"><img class="avatar" src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/teckel.jpg" alt="avatar_teckel"></a>
								</li>
								<li class="icons"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"><img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/star.gif" alt="*"></li>
								<li class="postgroup">God Member</li>
								<li class="postcount">Posts: 540</li>
								<li class="profile">
									<ol class="profile_icons">
										<li><a href="http://forum.arduino.cc/code.google.com/p/arduino-new-ping/" title="NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING)))" target="_blank" class="new_win"><span class="generic_icons www centericon" title="NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING)))"></span></a></li>
									</ol>
								</li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=99821;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							<li class="link-profile"><a href="http://forum.arduino.cc/code.google.com/p/arduino-new-ping/">NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING)))</a></li>
									<li class="custom karma_labels">
									<a href="http://forum.arduino.cc/index.php?action=karma;sa=applaud;uid=99821;f8a3acf73=dfce2dd498f7bf68619f16d5b94e7910">[add Karma]</a></li>
							</ul>
						</div>
						<div class="postarea">
							<div class="keyinfo">
								<div class="messageicon" style="position: absolute; z-index: -1;">
									<img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/xx.png" alt="">
								</div>
								<div id="subject_1022367" class="subject_title"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1022367#msg1022367" rel="nofollow">Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5</a></div>
								<div class="page_number floatright">
									 #284 
								</div>
								<h5>
									<a href="http://forum.arduino.cc/index.php?topic=106043.msg1022367#msg1022367" rel="nofollow" title="Reply #284 - Re: NewPing Library: HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.5" class="smalltext">Dec 06, 2012, 04:21 pm</a>
									<span class="smalltext modified" id="modified_1022367"></span>
								</h5>
								<div id="msg_1022367_quick_mod"></div>
							</div>
							<div class="post">
								<div class="inner" id="msg_1022367"><div class="quoteheader"><a href="http://forum.arduino.cc/index.php?topic=106043.msg1021720#msg1021720">Quote from: bulut on Dec 06, 2012, 02:38 am</a></div><blockquote class="bbc_standard_quote"><br>I've bought a chinese "reverse gear obstacle detector for cars" ultrasonic sensor and the board , i checked the board and find the trigger and echo pins for sensor like SR04 , but this sensor has a different specifications from SR04 , i want to use this new ping library for measuring the distance&nbsp; with arduino and this sensor, i am not sure witch parts of the code i have to change to work with my sensor , here is the specification of the sensor i got:<br><br>center frequency : 40KHZ&nbsp; (i checked the input pulse on the board with osciloscope it is 16 bursts)<br>Ringing : 1.2ms max<br>maximum input voltage : 120 Vp-p<br><br></blockquote><div class="quotefooter"></div><br><br>Have you tried connecting it and using the sample NewPing sketch?&nbsp; By the pin labels, it sounds like it could work as-is.&nbsp; The 120V is a little confusing, but the specs seems a little thin to begin with.&nbsp; Got a picture or more information?<br><br>Tim</div>
							</div>
							<div class="under_message">
							</div>
						</div>
						<div class="moderatorbar">
							<div class="signature" id="msg_1022367_signature">Arduino - Teensy - Raspberry Pi<br>My libraries: NewPing - LCDBitmap - toneAC - NewTone - TimerFreeTone</div>
						</div>
					</div>
				</div>
				<hr class="post_separator">
				</form>
			</div>
			<div class="pagesection">
				
		<div class="buttonlist floatright">
			
				<a class="button-forum  button_strip_print" href="http://forum.arduino.cc/index.php?action=printpage;topic=106043.0" rel="nofollow">Print</a>
		</div>
				 <a href="http://forum.arduino.cc/index.php?topic=106043.msg1009294.html#main_content_section" class="topbottom floatleft" id="bot">Go Up</a>
				<div class="pagelinks floatleft">
					<span class="pages">Pages: </span><a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.255"><span class="previous_page"></span></a> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.0">1</a> <span class="expand_pages" onclick="expandPages(this, &#39;&lt;a class=&quot;navPages&quot; href=&quot;&#39; + smf_scripturl + &#39;?topic=106043.%1$d&quot;&gt;%2$s&lt;/a&gt; &#39;, 15, 240, 15);"> ... </span><a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.240">17</a> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.255">18</a> <span class="current_page">[19]</span> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.285">20</a> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.300">21</a> <span class="expand_pages" onclick="expandPages(this, &#39;&lt;a class=&quot;navPages&quot; href=&quot;&#39; + smf_scripturl + &#39;?topic=106043.%1$d&quot;&gt;%2$s&lt;/a&gt; &#39;, 315, 555, 15);"> ... </span><a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.555">38</a> <a class="navPages" href="http://forum.arduino.cc/index.php?topic=106043.285"><span class="next_page"></span></a> 
				</div>
			</div>
			<div id="moderationbuttons">
				
			</div>
			<div id="display_jump_to"><label class="smalltext" for="display_jump_to_select">Jump to:</label> <select name="display_jump_to_select" id="display_jump_to_select" onfocus="grabJumpToContent(this);"><option value="?board=10.0">=&gt; Sensors</option></select>&nbsp;<input type="button" class="button_submit" value="Go" onclick="window.location.href = &#39;http://forum.arduino.cc/index.php?board=10.0&#39;;"></div>
			<br class="clear">
				<script><!-- // --><![CDATA[
					var oQuickReply = new QuickReply({
						bDefaultCollapsed: false,
						iTopicId: 106043,
						iStart: 270,
						sScriptUrl: smf_scripturl,
						sImagesUrl: smf_images_url,
						sContainerId: "quickReplyOptions",
						sImageId: "quickReplyExpand",
						sClassCollapsed: "toggle_up",
						sClassExpanded: "toggle_down",
						bIsFull: true
					});
					if ('XMLHttpRequest' in window)
					{
						var oQuickModify = new QuickModify({
							sScriptUrl: smf_scripturl,
							sClassName: 'quick_edit',
							bShowModify: true,
							iTopicId: 106043,
							sTemplateBodyEdit: '\n\t\t\t\t\t\t\t\t<div id="quick_edit_body_container">\n\t\t\t\t\t\t\t\t\t<div id="error_box" class="error"><' + '/div>\n\t\t\t\t\t\t\t\t\t<textarea class="editor" name="message" rows="12" style="width: 100%; margin-bottom: 10px;" tabindex="1">%body%<' + '/textarea><br>\n\t\t\t\t\t\t\t\t\t<input type="hidden" name="f8a3acf73" value="dfce2dd498f7bf68619f16d5b94e7910">\n\t\t\t\t\t\t\t\t\t<input type="hidden" name="topic" value="106043">\n\t\t\t\t\t\t\t\t\t<input type="hidden" name="msg" value="%msg_id%">\n\t\t\t\t\t\t\t\t\t<div class="righttext">\n\t\t\t\t\t\t\t\t\t\t<input type="submit" name="post" value="Save" tabindex="2" onclick="return oQuickModify.modifySave(\'dfce2dd498f7bf68619f16d5b94e7910\', \'f8a3acf73\');" accesskey="s" class="button_submit">&nbsp;&nbsp;<input type="submit" name="cancel" value="Cancel" tabindex="3" onclick="return oQuickModify.modifyCancel();" class="button_submit">\n\t\t\t\t\t\t\t\t\t<' + '/div>\n\t\t\t\t\t\t\t\t<' + '/div>',
							sTemplateSubjectEdit: '<input type="text" name="subject" value="%subject%" size="80" maxlength="80" tabindex="4" class="input_text">',
							sTemplateBodyNormal: '%body%',
							sTemplateSubjectNormal: '<a hr'+'ef="' + smf_scripturl + '?topic=106043.msg%msg_id%#msg%msg_id%" rel="nofollow">%subject%<' + '/a>',
							sTemplateTopSubject: 'Topic: %subject% &nbsp;(Read 157751 times)',
							sTemplateReasonEdit: '<input type="text" name="modify_reason" value="%modify_reason%" size="80" maxlength="80" tabindex="5" class="input_text">)',
							sTemplateReasonNormal: '%modify_text',
							sErrorBorderStyle: '1px solid red'
						});

						aJumpTo[aJumpTo.length] = new JumpTo({
							sContainerId: "display_jump_to",
							sJumpToTemplate: "<label class=\"smalltext\" for=\"%select_id%\">Jump to:<" + "/label> %dropdown_list%",
							iCurBoardId: 10,
							iCurBoardChildLevel: 0,
							sCurBoardName: "Sensors",
							sBoardChildLevelIndicator: "==",
							sBoardPrefix: "=> ",
							sCatSeparator: "-----------------------------",
							sCatPrefix: "",
							sGoButtonLabel: "Go"
						});

						aIconLists[aIconLists.length] = new IconList({
							sBackReference: "aIconLists[" + aIconLists.length + "]",
							sIconIdPrefix: "msg_icon_",
							sScriptUrl: smf_scripturl,
							bShowModify: true,
							iBoardId: 10,
							iTopicId: 106043,
							sSessionId: smf_session_id,
							sSessionVar: smf_session_var,
							sLabelIconList: "Message icon",
							sBoxBackground: "transparent",
							sBoxBackgroundHover: "#ffffff",
							iBoxBorderWidthHover: 1,
							sBoxBorderColorHover: "#adadad" ,
							sContainerBackground: "#ffffff",
							sContainerBorder: "1px solid #adadad",
							sItemBorder: "1px solid #ffffff",
							sItemBorderHover: "1px dotted gray",
							sItemBackground: "transparent",
							sItemBackgroundHover: "#e0e0f0"
						});
					}
				// ]]></script>
			</div>
		</div>
	</div>
  </div>
</div>
           <br><style>.pagefooter a { color: white !important; }</style>
	<script type="text/javascript">

		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-22581631-3']);
		_gaq.push(['_setDomainName', 'arduino.cc']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();

	</script><link rel="stylesheet" type="text/css" href="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/newsletter.css">
<div id="newsletterModal" class="reveal-modal small">
  <form action="http://arduino.cc/subscribe.php" method="post" name="sendy-subscribe-form" id="sendy-subscribe-form" class="form-popup">
    <div class="modalHeader">
      <h3 style="line-height: 1.8rem;" class="modal-header-alt">This link has expired. <br>Please re-subscribe to our Newsletters.</h3>
      <h3 class="modal-header-main">Subscribe to our Newsletters</h3>
    </div>
    <div class="modalBody" id="newsletterModalBody">
        <div id="newsletterEmailField" class="row" style="padding-left: 0">
          <div class="large-2 columns">
            <label for="email" class="newsletter-form-label inline">Email</label>
          </div>
          <div class="large-10 columns" style="padding-left: 0">
            <input placeholder="Enter your email address" type="email" name="email" class="subscribe-form-input">
            <p id="emailMissing" class="newsletterPopupError">Please enter a valid email to subscribe</p>
          </div>
        </div>
        <div style="margin-left:20px">
          <div style="margin-bottom:0.3em">
            <input style="display:none" type="checkbox" checked="" name="list[]" value="arduino_newsletter_id" id="worldwide" class="newsletter-form-checkbox">
            <label for="worldwide"></label>
            <div style="display:inline-block" class="newsletter-form-label">Arduino Newsletter</div>
          </div>
          <div>
            <input style="display:none" type="checkbox" checked="" name="list[]" value="arduino_store_newsletter_id" id="store" class="newsletter-form-checkbox">
            <label for="store"></label>
            <div style="display:inline-block" class="newsletter-form-label">Arduino Store Newsletter</div>
          </div>
        </div>
        <div>
          <p class="newsletterPopupError2" id="newsletterSubscribeStatus"></p>
        </div>
    </div>
    <div class="row modalFooter">
      <div class="form-buttons-row">
        
          <button type="button" value="Cancel" class="popup-form-button white cancel-modal close-reveal-modal">Cancel</button>
          <button type="submit" name="Subscribe" id="subscribe-submit-btn" class="popup-form-button">Next</button>
        
      </div>
    </div>
  </form>

  <!-- step 2, confirm popup -->
  <div class="confirm-popup" style="margin-bottom:1em">
    <div class="modalHeader">
      <h3>Confirm your email address</h3>
    </div>
    <div class="modalBody" id="newsletterModalBody" style="padding-right:1em;margin-bottom:0">
        <p style="margin-bottom:1em;font-size:15px">
          We need to confirm your email address.<br>
          To complete the subscription, please click the link in the
          email we just sent you.
        </p>
        <p style="margin-bottom:1em;font-size:15px">
          Thank you for subscribing!
        </p>
        <p style="margin-bottom:1em;font-size:15px">
          Arduino<br>
          via Egeo 16<br>
          Torino, 10131<br>
          Italy<br>
        </p>
    </div>
    <div class="row modalFooter">
      <div class="form-buttons-row">
        
          <button name="Ok" class="popup-form-button" id="close-confirm-popup">Ok</button>

      </div>
    </div>
  </div>

</div><script type="application/javascript">
    $(document).ready(function() {
    
    function validateEmail(email) { 
        var re = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(email);
    } 

    var openPopup = function() {

      $('.confirm-popup').hide();
      $('.form-popup').show();

      var modalBody = $('#newsletterModalBody');
      var emailInput = modalBody.find('#newsletterEmailField').find('input');
      var subscribeButton = $('#subscribe-submit-btn');
      var emailMissingP = modalBody.find('#emailMissing');
      var formValid = false;
      var confirmHtml = $('#newsletterModalConfirm').html();
      var email = $('#sendy-EMAIL').val(); 

      //reset popup values / appearance
      $("#newsletterSubscribeStatus").hide();
      $('#newsletterModal').find('.modal-header-main').show();
      $('#newsletterModal').find('.modal-header-alt').hide();
      emailMissingP.hide();
      emailInput.val('');
      modalBody.find('#store').prop('checked', true);
      modalBody.find('#worldwide').prop('checked', true);

      //both checkboxes checked at beginning 
       
      subscribeButton.removeAttr('disabled');

      //If user didn't provide email by footer input box, show input box in the popup, else just checkboxes
      if(validateEmail(email)) {
        emailInput.val(email); 
        formValid = true;
      } else {
        emailMissingP.show();  
        subscribeButton.attr('disabled', 'disabled');
        $('#sendy-EMAIL').val('');
        formValid = false;
      }

      $('#newsletterModal').foundation('reveal', 'open');

      emailInput.on('input propertychange paste', function(e) {
           if(!validateEmail(emailInput.val())) {
              emailMissingP.show();
              subscribeButton.attr('disabled', 'disabled');
              formValid = false;
           } else {
              formValid = true;
              emailMissingP.hide();
              subscribeButton.removeAttr('disabled');
           }     
      });
    };

    $('#sendy-EMAIL').on('keypress', function(e) {
      if(e.keyCode == 13) {
        openPopup();
      }
    });

    $('#sendy-subscribe').on('click', function() {
      openPopup();
    });
  
    $("#sendy-subscribe-form").on('keypress', function(e) {
        if(e.keyCode == 13 && formValid) {
          e.preventDefault(); 
          $(this).submit();
        }
    });

    $('#subscribe-submit-btn').on('click', function(e){
      e.preventDefault(); 
      // disable 'NEXT' button to avoid multiple submits
      $('#subscribe-submit-btn').attr('disabled', 'disabled');
      $("#sendy-subscribe-form").submit();
    });

    $('#close-confirm-popup').on('click', function(e){
      $('#newsletterModal').foundation('reveal', 'close');  
    });

    // trigger click on checkbox when clicking text label
    $('.newsletter-form-label').on('click', function(e){
      $(this).siblings("label").click();
    });

    $("#sendy-subscribe-form").on('submit', function(e){
      e.preventDefault(); 
      
      var $form = $(this),
      //name = $form.find('input[name="name"]').val(),
      email = $form.find('input[name="email"]').val(),
      lists = $form.find('input[name="list[]"]:checked'),
      url = $form.attr('action');
      
      //reset
      $("#newsletterSubscribeStatus").hide(); 

      if(!lists.length) {
        $("#newsletterSubscribeStatus").html("Please select at least <br> one newsletter.");
        $("#newsletterSubscribeStatus").show(); 
        //button 'NEXT' can be enabled
        $('#subscribe-submit-btn').removeAttr('disabled');
        return;
      }

      var listValues = [];
      for(var i=0; i<lists.length; i++) {
        listValues.push($(lists[i]).val());
      }

      $.post(url, {lists:listValues, email:email},
        function(data) {
            if(data)
            {
              if(data=="All fields are required.")
              {
                $("#newsletterSubscribeStatus").text("Please fill in your email.");
                $("#newsletterSubscribeStatus").show(); 
              }
              else if(data=="Invalid email address.")
              {
                $("#newsletterSubscribeStatus").text("Your email address is invalid.");
                $("#newsletterSubscribeStatus").show(); 
              }
              // else if(data=="Invalid list ID.")
              // {
              //   $("#newsletterSubscribeStatus").text("Your list ID is invalid.");
              //   $("#newsletterSubscribeStatus").show(); 
              // }
              else if(data=="Already subscribed.")
              {
                $("#newsletterSubscribeStatus").text("You're already subscribed!");
                $("#newsletterSubscribeStatus").show(); 
              }
              else if(data=="No list selected.")
              {
                $("#newsletterSubscribeStatus").text("Please select at least <br> one newsletter.");
                $("#newsletterSubscribeStatus").show(); 
              }
              else
              {
                //$("#newsletterSubscribeStatus").text("You're subscribed!");
                //change popup
                $('.form-popup').hide();
                $('.confirm-popup').show();
                
              }
            }
            else
            {
              alert("Sorry, unable to subscribe. Please try again later!");
            }
          //button 'NEXT' can be enabled now
          $('#subscribe-submit-btn').removeAttr('disabled');
        }
      );
    
    });

  });
  </script>
<div id="pagefooter" class="pagefooter">
  <div class="row">
    <div class="large-8 eight columns">
      <div class="large-4 four columns newsletter-box">
       <!-- Begin Sendy Signup Form -->
       <h6>Newsletter</h6>
        <div>
          <input type="email" name="email" class="email" id="sendy-EMAIL" placeholder="Enter your email to sign up">
          <i class="icon-right-small"></i>
          <input value="Subscribe" name="subscribe" id="sendy-subscribe" class="newsletter-button">
        </div>
       <!--End sendy_embed_signup-->
      </div>
      <div style="clear:both;"></div>
      <ul class="inline-list">
        <li class="monospace">©2015 Arduino</li>
        <li><a href="http://arduino.cc/en/Main/CopyrightNotice">Copyright Notice</a></li>
        <li><a href="http://arduino.cc/en/Main/ContactUs">Contact us</a></li>
      </ul>
    </div>
    <div class="large-4 four columns">
      <ul id="arduinoSocialLinks" class="arduino-social-links">
        <li>
          <a href="https://twitter.com/arduino">
            <img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/twitter.png">
          </a>
        </li>
        <li>
          <a href="http://www.facebook.com/official.arduino">
            <img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/facebook.png">
          </a>
        </li>
        <li>
          <a href="https://plus.google.com/+Arduino">
            <img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/gplus.png">
          </a>
        </li>
        <li>
          <a href="http://www.flickr.com/photos/arduino_cc">
            <img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/flickr.png">
          </a>
        </li>
        <li>
          <a href="http://youtube.com/arduinoteam">
            <img src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/youtube.png">
          </a>
        </li>
      </ul>
    </div>
  </div>
</div>

  <div id="ajax_in_progress" style="display: none;">Loading...</div>
<script><!-- // --><![CDATA[
	function triggerCron() {
		var tempImage = new Image();
		tempImage.src = 'http://forum.arduino.cc' + "/cron.php?ts=1426521720";
	}
	window.setTimeout(triggerCron, 1);
// ]]></script>
    <script src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/modernizr.js"></script>
    <!--[if gte IE 9]><!-->
    <script src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/foundation.min.js"></script>
    <script src="./NewPing Library  HC-SR04, SRF05, SRF06, DYP-ME007, Parallax PING))) - v1.6 BETA - Page 19_files/foundation.topbar.custom.js"></script>
    <script>
      $(document).foundation();
    </script>
    <!--<![endif]-->
    <!--[if IE 8]>
    <script src="http://arduino.cc/js/foundation_ie8.min.js"></script>
    <script src="http://arduino.cc/js/ie8/jquery.foundation.alerts.js"></script>
    <script src="http://arduino.cc/js/app.js"></script>
    <![endif]-->

</body></html>